<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#00a8cc">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Keenetic VPN">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-itunes-app" content="app-id=YOUR_APP_ID">
    <meta name="description" content="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VPN –Ω–∞ —Ä–æ—É—Ç–µ—Ä–∞—Ö Keenetic">
    <title>Keenetic VPN Manager</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="icons/icon.png" type="image/png">
    <link rel="apple-touch-icon" href="icons/icon.png" sizes="180x180">
    <link rel="apple-touch-icon" href="icons/icon.png" sizes="167x167">
    <link rel="apple-touch-icon" href="icons/icon.png" sizes="152x152">
    <link rel="apple-touch-icon" href="icons/icon.png" sizes="120x120">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="app-container">
        <!-- –°–∞–π–¥–±–∞—Ä -->
        <div class="sidebar">
            <div class="logo-section">
                <h2>Keenetic VPN</h2>
                <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º</p>
            </div>
            
            <div class="nav-section">
                <button class="nav-btn active" data-section="devices">
                    <i class="icon">üì±</i><span class="nav-label">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</span>
                </button>
                <button class="nav-btn" data-section="stats">
                    <i class="icon">üìä</i><span class="nav-label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                </button>
                <button class="nav-btn" data-section="settings">
                    <i class="icon">‚öôÔ∏è</i><span class="nav-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </button>
            </div>
            
            <div class="connection-status">
                <div class="status-indicator online"></div>
                <span>–ü–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
            </div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å -->
        <div class="main-content">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <header class="header">
                <h1 id="pageTitle">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–µ—Ç–∏</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="refreshDevicesBtn">
                        <i class="icon">üîÑ</i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
            </header>
            
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
            <div class="content">
                <!-- –†–∞–∑–¥–µ–ª —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
                <section id="devicesSection" class="content-section active">
                    <div class="devices-section">
                        <div class="devices-header">
                            <h2>–ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h2>
                        </div>
                        
                        <div class="devices-table-container">
                            <table class="devices-table">
                                <thead>
                                    <tr>
                                        <th>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</th>
                                        <th>–°—Ç–∞—Ç—É—Å</th>
                                        <th>VPN</th>
                                        <th class="col-pin"></th>
                                        <th class="col-action">–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody id="devicesTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- –†–∞–∑–¥–µ–ª —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
                <section id="statsSection" class="content-section">
                    <div class="stats-section">
                        <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏</h2>
                        
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon total">
                                    <i class="icon">üì±</i>
                                </div>
                                <div class="stat-info">
                                    <h3>–í—Å–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤</h3>
                                    <div class="stat-value" id="totalDevices">0</div>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon online">
                                    <i class="icon">‚úÖ</i>
                                </div>
                                <div class="stat-info">
                                    <h3>–û–Ω–ª–∞–π–Ω</h3>
                                    <div class="stat-value" id="onlineDevices">0</div>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon vpn">
                                    <i class="icon">üîí</i>
                                </div>
                                <div class="stat-info">
                                    <h3>–ß–µ—Ä–µ–∑ VPN</h3>
                                    <div class="stat-value" id="vpnDevices">0</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- –†–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
                <section id="settingsSection" class="content-section">
                    <div class="settings-section">
                        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                        
                        <div class="settings-card">
                            <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ—É—Ç–µ—Ä—É -->
                            <div class="settings-group">
                                <h3><i class="icon">üåê</i> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ—É—Ç–µ—Ä—É</h3>
                                
                                <div class="form-group">
                                    <label for="routerIp">IP –∞–¥—Ä–µ—Å —Ä–æ—É—Ç–µ—Ä–∞</label>
                                    <input type="text" id="routerIp" class="form-control" placeholder="192.168.1.1">
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="routerPort">–ü–æ—Ä—Ç API</label>
                                        <input type="text" id="routerPort" class="form-control" placeholder="81">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="routerUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                                        <input type="text" id="routerUsername" class="form-control" placeholder="admin">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="routerPassword">–ü–∞—Ä–æ–ª—å</label>
                                    <input type="password" id="routerPassword" class="form-control" placeholder="–ü–∞—Ä–æ–ª—å —Ä–æ—É—Ç–µ—Ä–∞">
                                </div>
                            </div>
                            
                            <!-- –ü–æ–ª–∏—Ç–∏–∫–∏ VPN -->
                            <div class="settings-group">
                                <h3><i class="icon">üîí</i> –ü–æ–ª–∏—Ç–∏–∫–∏ VPN</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="vpnPolicy">–ü–æ–ª–∏—Ç–∏–∫–∞ —Å VPN</label>
                                        <input type="text" id="vpnPolicy" class="form-control" placeholder="Policy0">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="noVpnPolicy">–ü–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑ VPN</label>
                                        <input type="text" id="noVpnPolicy" class="form-control" placeholder="Policy1">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                            <div class="settings-group">
                                <h3><i class="icon">üëÅÔ∏è</i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</h3>
                                
                                <div class="form-row">
                                    <div class="form-group checkbox-group">
                                        <input type="checkbox" id="showMac" class="form-checkbox">
                                        <label for="showMac">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å MAC –∞–¥—Ä–µ—Å–∞</label>
                                    </div>
                                    
                                    <div class="form-group checkbox-group">
                                        <input type="checkbox" id="showIp" class="form-checkbox">
                                        <label for="showIp">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å IP –∞–¥—Ä–µ—Å–∞</label>
                                    </div>
                                </div>
                                
                                <div class="form-group checkbox-group">
                                    <input type="checkbox" id="showStats" class="form-checkbox">
                                    <label for="showStats">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</label>
                                </div>
                            </div>
                            
                            <!-- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ -->
                            <div class="settings-group">
                                <h3><i class="icon">‚è∞</i> –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</h3>
                                
                                <div class="form-group checkbox-group">
                                    <input type="checkbox" id="autoRefresh" class="form-checkbox">
                                    <label for="autoRefresh">–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</label>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="refreshInterval">–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Å–µ–∫)</label>
                                        <input type="number" id="refreshInterval" class="form-control" min="5" max="300" value="10">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="offlineDelay">–ó–∞–¥–µ—Ä–∂–∫–∞ –æ—Ñ–ª–∞–π–Ω (—Å–µ–∫)</label>
                                        <input type="number" id="offlineDelay" class="form-control" min="1" max="60" value="5">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API -->
                            <div class="settings-group">
                                <h3><i class="icon">üîç</i> –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                                <p class="settings-description">
                                    –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API —Ä–æ—É—Ç–µ—Ä–∞
                                </p>
                                <button class="btn btn-secondary btn-full" id="testApiBtn">
                                    <i class="icon">üîç</i> –¢–µ—Å—Ç API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
                                </button>
                            </div>
                            
                            <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                            <div class="settings-actions">
                                <button class="btn btn-primary btn-full" id="saveSettingsBtn">
                                    <i class="icon">üíæ</i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    
    <!-- –û–≤–µ—Ä–ª–µ–π –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>
    
    <!-- –°–∫—Ä–∏–ø—Ç—ã: –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–¥–∫–ª—é—á–∞–µ–º web-api (–≤ Electron –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è preload) -->
    <script>if (!window.electronAPI) document.write('<script src="web-api.js"><\/script>');</script>
    <script src="renderer.js"></script>
    
    <!-- Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–ª—è PWA -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/service-worker.js')
            .then((registration) => {
              console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration);
            })
            .catch((error) => {
              console.log('Service Worker –æ—à–∏–±–∫–∞:', error);
            });
        });
      }
    </script>
</body>
</html>